<% content_for :og_head do %>
  <meta name="description" content="チェスの対局結果ランキング。対局数・勝ち数・引分数・対戦相手平均レーティングなどのランキングを表示。チェスの公式戦の対局を調べることができます。プレイヤー名や大会名から対局の検索ができます。">
  <meta property="og:title" content="プレイヤーランキング | チェス対局結果まとめ">
  <meta property="og:type" content="website">
  <meta property="og:url" content="<%= players_url %>">
  <meta property="og:description" content="チェスの対局結果ランキング。対局数・勝ち数・引分数・対戦相手平均レーティングなどのランキングを表示。チェスの公式戦の対局を調べることができます。プレイヤー名や大会名から対局の検索ができます。">
  <meta property="og:image" content="<%= root_url %>icon-120x120.png">
<% end %>

<h1 class="mt-3">プレイヤーランキング</h1>
<div>
  <p class="mb-0">対局数・勝ち数・引分数などのランキングを表示します。</p>
</div>

<div class="d-flex flex-row mt-3">
  <div class="">
    <%= link_to ranking_kind_name(:games), players_path(kind: :games), { class: "btn #{@kind == "games" ? "btn-primary" : "btn-outline-primary" }"} %>
  </div>
  <div class="ms-1">
    <%= link_to ranking_kind_name(:win), players_path(kind: :win), { class: "btn #{@kind == "win" ? "btn-primary" : "btn-outline-primary" }"} %>
  </div>
  <div class="ms-1">
    <%= link_to ranking_kind_name(:draw), players_path(kind: :draw), { class: "btn #{@kind == "draw" ? "btn-primary" : "btn-outline-primary" }"} %>
  </div>
  <div class="ms-1">
    <%= link_to ranking_kind_name(:avg_rating), players_path(kind: :avg_rating), { class: "btn #{@kind == "avg_rating" ? "btn-primary" : "btn-outline-primary" }"} %>
  </div>
</div>


<div class="border border-secondary rounded mt-1 mb-3">
  <table class="table table-striped game-table">
    <thead>
      <tr>
        <th scope="col" class="text-center time-width">順位</th>
        <th scope="col" class="text-center name-width-long">名前</th>
        <th scope="col" class="text-center <%= @kind == "avg_rating" ? "name-width-long" : "rating-width" %>">
          <%= ranking_kind_name(@kind) %>
        </th>
        <th scope="col" class=""></th>
      </tr>
    </thead>
    <tbody>
      <% @players.each_with_index do |player, i| %>
        <tr>
          <td class="text-center"><%= i+1 %></td>
          <td class="text-center">
            <%= link_to player.name_jp, player_path(id: player.ncs_id) %>
          </td>
          <td class="text-center"><%= player.ranking_value(@kind) %></td>
          <td></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
